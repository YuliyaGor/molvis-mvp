# Supabase Setup для MOLVIS

## Налаштування бібліотеки рамок

### 1. Застосування міграції

Виконайте SQL міграцію в Supabase SQL Editor:

1. Відкрийте Supabase Dashboard: https://app.supabase.com
2. Оберіть ваш проект
3. Перейдіть в SQL Editor
4. Скопіюйте та виконайте вміст файлу `migrations/20231223_create_frames_table.sql`

### 2. Що створюється

- **Таблиця `frames`** - зберігає метадані рамок
  - `id` (UUID) - унікальний ідентифікатор
  - `name` (VARCHAR) - назва рамки
  - `storage_path` (TEXT) - шлях до файлу в Storage
  - `thumbnail_path` (TEXT) - публічний URL для превью
  - `created_at`, `updated_at` - часові мітки

- **Storage bucket `frames`** - зберігає PNG файли рамок
  - Публічний доступ для читання
  - Завантаження доступне всім (можна обмежити авторизацією)

### 3. Політики доступу

Поточні політики дозволяють:
- ✅ Всім читати рамки
- ✅ Всім завантажувати, оновлювати та видаляти рамки

⚠️ **Для продакшну** рекомендується додати авторизацію користувачів та обмежити політики.

## Як працює система рамок

1. Користувач завантажує PNG з прозорістю
2. Файл зберігається в Storage bucket `frames`
3. Метадані (назва, шлях) зберігаються в таблиці `frames`
4. Рамки відображаються в бібліотеці з превью
5. Клік на рамку застосовує її до зображення
6. Можна видаляти непотрібні рамки

## API Endpoints

- `GET /api/frames` - отримати список рамок
- `POST /api/frames` - завантажити нову рамку (FormData: file, name)
- `DELETE /api/frames?id={uuid}` - видалити рамку
